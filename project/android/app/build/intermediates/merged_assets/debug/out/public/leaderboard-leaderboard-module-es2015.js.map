{"version":3,"sources":["./src/app/home/leaderboard/leaderboard.page.html","./src/app/home/leaderboard/leaderboard.module.ts","./src/app/home/user.service.ts","./src/app/home/leaderboard/leaderboard.page.scss","./src/app/home/leaderboard/leaderboard.page.ts","./src/app/home/leaderboard/leaderboard-routing.module.ts"],"names":[],"mappings":"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","file":"leaderboard-leaderboard-module-es2015.js","sourcesContent":["export default \"<ion-content class=\\\"ion-padding\\\">\\r\\n  <!--  Title and Subtitle  -->\\r\\n  <div class=\\\"ion-padding-start\\\">\\r\\n   <h1><b>PAPAN PERINGKAT</b></h1>\\r\\n   <span>Cek poin tertinggi mu sekarang juga!</span>\\r\\n </div>\\r\\n <br>\\r\\n <div class=\\\"ion-padding-top\\\">\\r\\n   <ion-grid>\\r\\n     <ion-row>\\r\\n       <ion-col style=\\\"text-align: center;\\\">\\r\\n         <ion-text color=\\\"primary\\\"><h5><b>No.</b></h5></ion-text>\\r\\n       </ion-col>\\r\\n       <ion-col style=\\\"text-align: center;\\\" size=\\\"8\\\">\\r\\n         <ion-text color=\\\"primary\\\"> <h5><b>Username</b></h5></ion-text>\\r\\n       </ion-col>\\r\\n       <ion-col style=\\\"text-align: center;\\\">\\r\\n         <ion-text color=\\\"primary\\\"><h5><b>Poin</b></h5></ion-text>\\r\\n       </ion-col>\\r\\n     </ion-row>\\r\\n   </ion-grid>\\r\\n </div>\\r\\n\\r\\n <ion-card *ngFor=\\\"let user of users; let i = index\\\">\\r\\n   <ion-grid>\\r\\n     <ion-row>\\r\\n       <ion-col style=\\\"text-align: center;\\\" >\\r\\n         <h5><b>{{ i + 1 }}</b></h5>\\r\\n       </ion-col>\\r\\n       <ion-col style= \\\"text-align: center;\\\" size=\\\"8\\\" >\\r\\n         <h5><b>{{ user.usernames }}</b></h5>\\r\\n       </ion-col>\\r\\n       <ion-col style=\\\"text-align: center;\\\">\\r\\n         <ion-text color=\\\"danger\\\"><h5><b>{{ user.total_points }}</b></h5></ion-text>\\r\\n       </ion-col>\\r\\n     </ion-row>\\r\\n   </ion-grid>\\r\\n </ion-card>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LeaderboardPageRoutingModule } from './leaderboard-routing.module';\r\n\r\nimport { LeaderboardPage } from './leaderboard.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LeaderboardPageRoutingModule\r\n  ],\r\n  declarations: [LeaderboardPage]\r\n})\r\nexport class LeaderboardPageModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\nimport { User } from './user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  sortedArray: Array <{username: string,total_points: Number}>;\r\n  currentUserPosition: Number;\r\n  private dbPath = '/users';\r\n  userRef: AngularFireList<User> = null;\r\n\r\n  constructor(private db: AngularFireDatabase) {\r\n    this.userRef = db.list(this.dbPath);\r\n   }\r\n\r\n  getAllUsers(): AngularFireList<User> {\r\n    return this.userRef;\r\n  }\r\n}","export default \"ion-card {\\n  border-radius: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxsZWFkZXJib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtBQUNKIiwiZmlsZSI6ImxlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgICB9Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { map } from 'rxjs/operators';\r\nimport firebase from 'firebase';\r\nimport { UserService } from '../user.service';\r\n\r\n@Component({\r\n  selector: 'app-leaderboard',\r\n  templateUrl: './leaderboard.page.html',\r\n  styleUrls: ['./leaderboard.page.scss'],\r\n})\r\nexport class LeaderboardPage implements OnInit {\r\n  users: any;\r\n  totalPoints: [];\r\n  userUID: any;\r\n\r\n  constructor(public userService:UserService, \r\n    private db: AngularFireDatabase) { }\r\n\r\n  ngOnInit() {\r\n    this.userService.getAllUsers().snapshotChanges().pipe(\r\n      map(changes =>\r\n      changes.map(c => ({user_id: c.payload.key, ...c.payload.val()}))\r\n      )\r\n      ).subscribe(data => {\r\n      this.users = data;\r\n      console.log(data);\r\n      \r\n      firebase.database().ref('users/').orderByChild('total_points').once('value').then((snap) => {\r\n      snap.forEach((childSnap) => {\r\n      this.totalPoints = snap.val();\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n// this.userService.getAllUsers().snapshotChanges().pipe(\r\n//   map(changes =>\r\n//       changes.map(c => ({user_id: c.payload.key, ...c.payload.val()}))\r\n//   )\r\n// ).subscribe(data => {\r\n//   this.users = data;\r\n//   console.log(data);\r\n//   console.log(this.totalPoints);\r\n\r\n//   //this.users = this.db.list('users/').valueChanges();\r\n//   const usersRef = this.db.database.ref('users/');\r\n//   const ref = usersRef.orderByChild(\"total_points\");\r\n\r\n//   ref.once('value').then(function(snap) {\r\n//     snap.forEach(function (childSnap) {\r\n//       this.totalpoints = childSnap.val();\r\n     \r\n//       console.log(pkey);\r\n//     });\r\n//   });\r\n// });\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LeaderboardPage } from './leaderboard.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LeaderboardPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LeaderboardPageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}